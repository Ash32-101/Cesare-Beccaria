<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Cesare Beccaria — Presentación</title>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;700&family=Cinzel+Decorative:wght@700&display=swap" rel="stylesheet" />
  <style>
    * {margin:0; padding:0; box-sizing:border-box;}
    :root{
      --accent:#a86cff;
      --muted:#e8dec5;
      --glass: rgba(255,255,255,0.06);
    }
    body {
      font-family:'Playfair Display', serif;
      background: 
        linear-gradient(rgba(15,10,20,0.86), rgba(10,8,12,0.92)),
        url('https://brainybirdz.net/wp-content/uploads/2016/12/goldroom31.jpg') center/cover fixed;
      color:#f5f2e8;
      overflow-x:hidden;
      min-height:100vh;
    }
    h1,h2 {
      font-family:'Cinzel Decorative', cursive;
      color:#f4e2b5;
      text-shadow:0 0 8px rgba(255,215,155,0.25);
      display:flex;
      align-items:center;
      justify-content:space-between;
    }
    h1 {cursor:pointer; justify-content:center; font-size:clamp(1.6rem,3vw,2.4rem);}    
    header p {color:var(--muted); opacity:0.95;}

    /* Section styling */
    main{padding:2rem 1rem;}
    .section{
      max-width:980px; margin:1.75rem auto; background:var(--glass); border-radius:16px; padding:1rem 1.25rem; 
      border:1px solid rgba(255,255,255,0.08); backdrop-filter:blur(10px) saturate(140%);
      box-shadow:0 10px 30px rgba(0,0,0,0.45);
    }
    .section h2{font-size:1.25rem; margin-bottom:0.5rem}
    .meta {font-size:0.95rem; color:var(--muted); margin-bottom:0.5rem}
    p {line-height:1.7; color:#efe8d9}

    /* small portrait */
    .portrait{display:block; width:44%; max-width:200px; height:auto; margin:0.75rem auto; border-radius:8px; border:1px solid rgba(255,255,255,0.12); filter:grayscale(30%) brightness(0.95);}

    /* timeline */
    .timeline{display:flex; gap:1rem; flex-wrap:wrap; margin-top:0.5rem}
    .event{flex:1 1 220px; background:rgba(0,0,0,0.18); padding:0.8rem; border-radius:10px; border:1px solid rgba(255,255,255,0.03)}
    .event h3{font-size:0.95rem; margin-bottom:0.25rem}
    .quote{font-style:italic; color:#f7eed9; margin:0.75rem 0; padding-left:0.6rem; border-left:3px solid rgba(168,108,255,0.18)}

    /* secret button (hidden) */
    .secret-wrap{position:fixed; right:18px; bottom:18px; z-index:11000}
    .secret-btn{display:none; background:linear-gradient(135deg,var(--accent),#6b4cff); color:#0b0010; padding:0.6rem 0.9rem; border-radius:12px; font-weight:700; cursor:pointer; box-shadow:0 6px 18px rgba(128,51,255,0.18); border:none}
    .secret-btn.visible{display:inline-block}

    /* modal */
    .modal-backdrop{position:fixed; inset:0; display:none; align-items:center; justify-content:center; z-index:12000}
    .modal-backdrop.show{display:flex}
    .modal{width:min(720px,94vw); background:linear-gradient(180deg, rgba(6,3,9,0.98), rgba(11,7,14,0.99)); border-radius:14px; padding:1rem 1.25rem; border:1px solid rgba(255,255,255,0.06); box-shadow:0 30px 80px rgba(0,0,0,0.7)}
    .modal h2{margin-bottom:0.25rem}
    .flex{display:flex; gap:1rem; align-items:center}
    .col{flex:1}
    .controls label{display:block; font-size:0.85rem; margin-bottom:0.35rem; color:var(--muted)}
    .range{width:100%}
    .btn{background:transparent; color:var(--muted); border:1px solid rgba(255,255,255,0.08); padding:0.5rem 0.7rem; border-radius:10px; cursor:pointer}
    .btn.primary{background:linear-gradient(135deg,var(--accent),#6b4cff); color:#0b0010; border:none}

    /* verdict */
    .verdict{margin-top:1rem; padding:0.9rem; border-radius:10px; background:rgba(255,255,255,0.03); font-weight:700}

    /* animated scales */
    .scales{width:120px; height:80px; margin:0.25rem auto 0; position:relative}
    .beam{height:6px; background:linear-gradient(90deg,#fff0,#fff0); position:absolute; left:8px; right:8px; top:12px}
    .pan{width:42px; height:12px; border-radius:6px; background:rgba(255,255,255,0.06); border:1px solid rgba(255,255,255,0.08); position:absolute; top:22px}
    .pan.left{left:6px; transform-origin:center right}
    .pan.right{right:6px; transform-origin:center left}

    /* morphine ascii tweaks */
    .morphine-box{margin:2rem auto; text-align:center; font-family:'Courier New', monospace; color:var(--accent); white-space:pre; background:rgba(255,255,255,0.02); border-radius:12px; padding:1rem; border:1px solid rgba(255,255,255,0.04)}

    footer{text-align:center; padding:2.25rem; color:var(--muted)}
    footer strong{cursor:pointer}

    /* small helpers */
    .hint{font-size:0.85rem; color:var(--muted)}

    @media (max-width:640px){
      .portrait{width:60%; max-width:160px}
      .timeline{flex-direction:column}
    }
  </style>
</head>
<body>
  <main>
    <header style="text-align:center; margin-bottom:1rem;">
      <h1 id="title">Cesare Beccaria</h1>
      <p><em>Filósofo, jurista y reformador del derecho penal — Ilustración (1738–1794)</em></p>
    </header>

    <section class="section" aria-labelledby="bio">
      <h2 id="bio">Biografía</h2>
      <p class="meta">Milán • 1738 — 1794 • Autor de <em>De los delitos y las penas</em></p>
      <p>Cesare Beccaria fue un pensador central de la Ilustración italiana. Abogó por la racionalización del derecho penal, la proporcionalidad de las penas, la eliminación de la tortura y la crítica a la pena de muerte como método de disuasión. Sus argumentos mezclan filosofía moral, economía y una visión utilitarista primitiva enfocada en la prevención del delito.</p>
      <img class="portrait" src="https://upload.wikimedia.org/wikipedia/commons/8/83/Cesare_Beccaria.jpg" alt="Cesare Beccaria retrato">

      <div class="timeline" aria-hidden="false">
        <div class="event"><h3>1738</h3><div class="hint">Nacimiento en Milán</div></div>
        <div class="event"><h3>1764</h3><div class="hint">Publicación de <em>De los delitos y las penas</em></div></div>
        <div class="event"><h3>1780s</h3><div class="hint">Influenció reformas penales en Europa</div></div>
        <div class="event"><h3>1794</h3><div class="hint">Fallece dejando legado jurídico</div></div>
      </div>

      <div class="quote">“Es mejor prevenir el crimen que castigarlo severamente.” — idea central</div>
    </section>

    <section class="section" aria-labelledby="ideas">
      <h2 id="ideas">Principales ideas</h2>
      <p>Sus principios clave son:</p>
      <ul style="margin-left:1rem; color:#efe8d9">
        <li>Proporcionalidad: la pena debe ser adecuada al daño.</li>
        <li>Claridad: las leyes deben ser claras para que los ciudadanos entiendan consecuencias.</li>
        <li>Prevención sobre retribución: la finalidad del castigo es prevenir daño futuro.</li>
        <li>Rechazo a la tortura y al secreto judicial arbitrario.</li>
      </ul>
    </section>

    <section class="section" aria-labelledby="works">
      <h2 id="works">Obras & Legado</h2>
      <p><em>De los delitos y las penas</em> (1764) es su obra mayor. Su influencia se muestra en la Declaración de los Derechos y en reformas legales que buscaban sistemas penales más humanos y racionales.</p>
      <p class="meta">Lecturas recomendadas: <a href="https://es.wikipedia.org/wiki/Cesare_Beccaria" target="_blank" rel="noreferrer" style="color:var(--muted)">Wikipedia — Cesare Beccaria</a></p>
    </section>

    <section class="section" aria-labelledby="court">
      <h2 id="court">Simulación: Juicio según el sistema de Beccaria</h2>
      <p>Prueba un simulador sencillo que enfrenta principios jurídicos: <strong>Proporcionalidad</strong>, <strong>Claridad</strong> y <strong>Prevención</strong>. Ajusta evidencia y estrategia y observa un veredicto razonado que cita ideas de Beccaria.</p>
      <p class="hint">(El botón de simulación es secreto — tienes que revelarlo — busca pistas en el pie de página.)</p>
    </section>

    <div class="morphine-box">
MORPHINE STRUCTURE (ASCII)
  O
  ║
HO─C─CH₂
 ║    ║
 N───CH₃
 ║
 CH
 ║
 O
    </div>

    <footer>
      <p>Hecho con elegancia por <strong id="author">m0rph!n3_</strong> — click 5 veces aquí para revelar algo secreto</p>
    </footer>
  </main>

  <!-- secret button container -->
  <div class="secret-wrap" aria-hidden="true">
    <button class="secret-btn" id="secretBtn">Iniciar simulación — Tribunal</button>
  </div>

  <!-- Modal for court simulation -->
  <div class="modal-backdrop" id="modal">
    <div class="modal" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
      <h2 id="modalTitle">Simulación: Juicio (Sistema Beccaria)</h2>
      <div class="flex">
        <div class="col">
          <div class="controls">
            <label for="evidence">Fuerza de la evidencia: <span id="evidenceVal">50</span>%</label>
            <input id="evidence" class="range" type="range" min="0" max="100" value="50">

            <label for="intent">Presunto intento (1-10): <span id="intentVal">5</span></label>
            <input id="intent" class="range" type="range" min="0" max="10" value="5">

            <label for="strategy">Estrategia legal</label>
            <select id="strategy" style="width:100%; padding:0.45rem; border-radius:8px; background:rgba(255,255,255,0.02); color:var(--muted); border:1px solid rgba(255,255,255,0.04)">
              <option value="balanced">Defensa equilibrada</option>
              <option value="aggressive">Prosecutor agresivo</option>
              <option value="mitigate">Enfatizar mitigantes</option>
            </select>

            <div style="margin-top:0.6rem; display:flex; gap:0.5rem">
              <button class="btn" id="runSim">Ejecutar juicio</button>
              <button class="btn" id="closeSim">Cerrar</button>
            </div>
          </div>
        </div>
        <div class="col" style="text-align:center">
          <div style="font-size:0.95rem; color:var(--muted)">Balanza (animada) — resultado instantáneo</div>
          <div class="scales" id="scales">
            <div class="beam"></div>
            <div class="pan left" id="panL"></div>
            <div class="pan right" id="panR"></div>
          </div>
          <div id="explanation" class="verdict">Ajusta parámetros y pulsa "Ejecutar juicio" para ver veredicto y argumentos basados en Beccaria.</div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Reveal secret button by clicking author 5 times
    (function(){
      const author = document.getElementById('author');
      const secret = document.getElementById('secretBtn');
      let clicks = 0; let timer;
      author.addEventListener('click', ()=>{
        clicks++;
        clearTimeout(timer);
        timer = setTimeout(()=>{clicks=0;}, 1500);
        if(clicks>=5){
          secret.classList.add('visible');
          document.querySelector('.secret-wrap').setAttribute('aria-hidden','false');
          // small pulse animation
          secret.animate([{transform:'scale(0.92)'},{transform:'scale(1)'}], {duration:400, iterations:1});
        }
      });

      // Also allow keyboard reveal: press 'J' then 'U' then 'S' then 'T' then 'I' then 'C' then 'E'
      let seq = '';
      const target = 'JUSTICE';
      window.addEventListener('keyup', (e)=>{
        seq += e.key.toUpperCase();
        if(!target.startsWith(seq)) seq = '';
        if(seq===target){ secret.classList.add('visible'); document.querySelector('.secret-wrap').setAttribute('aria-hidden','false'); seq=''; }
        if(seq.length>target.length) seq='';
      });
    })();

    // Modal and simulation logic
    const modal = document.getElementById('modal');
    const secretBtn = document.getElementById('secretBtn');
    const runSim = document.getElementById('runSim');
    const closeSim = document.getElementById('closeSim');
    const evidence = document.getElementById('evidence');
    const intent = document.getElementById('intent');
    const strategy = document.getElementById('strategy');
    const evidenceVal = document.getElementById('evidenceVal');
    const intentVal = document.getElementById('intentVal');
    const explanation = document.getElementById('explanation');
    const panL = document.getElementById('panL');
    const panR = document.getElementById('panR');

    function showModal(){ modal.classList.add('show'); document.body.style.overflow='hidden'; }
    function hideModal(){ modal.classList.remove('show'); document.body.style.overflow='auto'; }

    secretBtn.addEventListener('click', showModal);
    closeSim.addEventListener('click', hideModal);

    evidence.addEventListener('input', ()=>{ evidenceVal.textContent = evidence.value; updateScales(); });
    intent.addEventListener('input', ()=>{ intentVal.textContent = intent.value; updateScales(); });

    function updateScales(balance){
      // balance ranges -1 .. 1 ; positive => guilty side heavier
      if(balance===undefined){
        // compute a preview weight from inputs to animate slightly
        const e = evidence.value/100; const i = intent.value/10;
        const preview = (e*0.7 + (i*0.3)) - 0.5; // -0.5..0.5
        balance = Math.max(-1, Math.min(1, preview*1.8));
      }
      const leftDeg = -10 * balance; // left pan angle
      const rightDeg = 10 * balance;
      panL.style.transform = `rotate(${leftDeg}deg)`;
      panR.style.transform = `rotate(${rightDeg}deg)`;
    }

    function computeVerdict(){
      // core scoring influenced by Beccaria principles
      const e = Number(evidence.value); // 0..100
      const i = Number(intent.value); // 0..10
      const strat = strategy.value;

      // Base score from evidence & intent
      let score = e * 0.6 + (i*10) * 0.25; // 0..100-ish

      // Strategy modifiers
      if(strat==='balanced') score += 0;
      if(strat==='aggressive') score += 8; // prosecutor advantage
      if(strat==='mitigate') score -= 12; // defense emphasizes mitigation

      // Beccaria influence: penalize harsh outcomes when evidence is ambiguous
      const ambiguity = Math.max(0, 50 - Math.abs(e - 50)); // 0..50 (higher when near 50)
      const beccariaBias = (ambiguity/50) * -15; // up to -15 points (favor acquittal)
      score += beccariaBias;

      // clamp
      score = Math.max(0, Math.min(100, Math.round(score)));
      return {score, reason: {e,i,strat,ambiguity,beccariaBias}};
    }

    function renderVerdict(){
      const res = computeVerdict();
      const s = res.score;
      // animate scales based on score (0 => left heavy innocent, 100 => right heavy guilty)
      const balance = (s - 50)/50; updateScales(balance);

      let verdictText=''; let tone='';
      if(s >= 70){ verdictText = 'CONDENADO'; tone='El peso de la evidencia (y la intención) favorece una condena.'; }
      else if(s >= 45){ verdictText = 'VEREDICTO INCONCLUSIVO'; tone='La evidencia es ambigua: según Beccaria, la prevención debe priorizarse y la pena moderada.'; }
      else { verdictText = 'ABSOLUCIÓN'; tone='La prueba no alcanza un umbral razonable: Beccaria favorece la libertad si la certeza es insuficiente.'; }

      // build explanation that references Beccaria
      const expl = `Veredicto: ${verdictText}\n\nRazón: ${tone}\n\nDetalles (simulación):\n• Fuerza de la evidencia: ${res.reason.e}%\n• Intención (escala 0-10): ${res.reason.i}\n• Estrategia aplicada: ${res.reason.strat}\n• Ambigüedad del caso (influencia de Beccaria): ${Math.round(res.reason.ambiguity)} -> ajuste ${Math.round(res.reason.beccariaBias)} puntos\n\nBeccaria sugiere que las penas deben ser proporcionales y claras; cuando la evidencia es dudosa, la prevención y la moderación mandan.`;

      // show it nicely
      explanation.textContent = expl;

      // small glow color by verdict
      explanation.style.boxShadow = s>=70 ? '0 6px 30px rgba(255,100,100,0.08)' : s<45 ? '0 6px 30px rgba(120,255,180,0.06)' : '0 6px 30px rgba(255,215,155,0.06)';
    }

    runSim.addEventListener('click', ()=>{
      renderVerdict();
    });

    // close on ESC
    window.addEventListener('keydown', (e)=>{ if(e.key==='Escape') hideModal(); });

    // initial preview scales
    updateScales();

    // Accessibility: allow opening modal with keyboard once visible
    secretBtn.addEventListener('keyup', (e)=>{ if(e.key==='Enter' || e.key===' ') showModal(); });

    // tiny UX: clicking outside modal closes
    modal.addEventListener('click', (ev)=>{ if(ev.target===modal) hideModal(); });
  </script>
</body>
</html>
